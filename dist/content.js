(()=>{"use strict";let e={Cat:["Dog","Rat","bat"],Helo:["hello","Help","Hell"],heldp:["help","held","hello"]},t=Object.keys(e),o="",n="";document.addEventListener("input",(l=>{if(o+=l.data,console.log(o)," "===l.data){o=o.trimEnd();let a=l.target,c=((e,t)=>{for(let o of t)if(e.endsWith(o))return o;return!1})(o,t);if(console.log(c),"input"==a.tagName.toLowerCase()&&"text"==a.getAttribute("type").toLowerCase()&&(n=a.value,console.log(n)),a.isContentEditable&&(n=a.textContent,console.log(n)),c){let t,l=o.slice(0,-c.length);console.log("entered text after slice: ",l),(t=>{let o=e[t];const n=document.querySelector("body"),l=document.createElement("div");l.classList.add("popup");const a=document.createElement("div");a.setAttribute("id","eclipse"),a.classList.add("eclipse"),a.append(l),n.prepend(a);const c=document.createElement("div");c.classList.add("header");const d=document.createElement("div");d.classList.add("replaceWordsContainer"),d.setAttribute("id","replaceWordsContainer"),l.append(c,d),c.textContent="How do you want to change:",o.forEach((e=>{let t=document.createElement("div");t.classList.add("elementForReplace"),t.textContent=e,d.append(t)}))})(c),replaceWordsContainer.addEventListener("click",(function(e){t=e.target.innerText,l+=t+" ",console.log("enteredText after replace: ",l),n=n.replace(o,l),console.log(n),eclipse.remove(),a.isContentEditable?a.textContent=n:a.value=n,a.focus(),o="",n=""}))}}}))})();